{#
/**
 * Block Name:
 *
 * This is the template that displays the  block.
 */
#}

{# Set block data object for block registration: src/funcions/blocks.php #}
{# NOTE: Enable JSX to include innerBlocks #}
{% set block_data = {
  name: 'Name',
  description: 'Description',
  category: 'dream',
  icon: 'block-default',
  keywords: '',
  mode: 'auto',
  post_types: true,
  align: '',
  align_text: '',
  align_content: '',
  enqueue_style: '',
  enqueue_script: '',
  supports_align: true,
  supports_align_text: true,
  supports_align_content: true,
  supports_mode: true,
  supports_multiple: true,
  supports_anchor: true,
  supports_className: true,
  supports_full_height: true,
  supports_jsx: false
} %}

{# TODO: Add these to data when updating ACF to v.6 #}
{# {% set block_data = {
  parent: '',
  enqueue_assets: '',
  example: [],
  default_data: [],
  supports_reusable: true,
} %}#}

{#{% if is_preview %}#}
{#<p>Some editor instructions here.</p>#}
{#{% endif %}#}

{#{{ block['className'] }}#}
{#{{ block['align'] ? 'align-' ~ block['align'] }}#}
{#{{ block['align_text']}}#}
{#{{ block['align_content'] }}#}
{#{{ block['full_height'] }}#}

{# Parent Block Data #}
{# ACF <= v.5.9 #}
{#{% set parent = function('get_parent_block', block['id'], block['name']) %}#}
{# ACF >= v.6.0 #}
{#{{ parent_block_data['data'] }}#}

{% set block_classes = block_classes|default([])|merge([
  block['className']
]) | sort | join(' ') | trim %}

{% set block_attributes = block_attributes|default([])|merge([
]) | sort | join(' ') | trim %}

<div class="{{ block_classes }}" {{ block_attributes }}>
  <InnerBlocks allowedBlocks="{{ ['acf/BLOCK-NAME'] | json_encode() | escape('html_attr') }}" template="{{ [['acf/BLOCK-NAME'], ['acf/BLOCK-NAME']] | json_encode() | escape('html_attr') }}" templateLock="all" />
</div>
